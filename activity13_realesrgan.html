<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RealESRGAN 이미지 업스케일러</title>

  <!-- ONNX Runtime Web -->
  <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
  <!-- 메인 스크립트 -->
  <script src="activity13.js"></script>
  <link rel="stylesheet" href="stylefooter.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Jua&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@100..900&family=Orbitron:wght@400..900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">

  <style>
    /* 전역 130% 확대 */
    body {
      zoom: 120%;
      font-family: "Noto Sans KR";
    }

    :root {
      --primary-gradient: linear-gradient(135deg, #667eea, #764ba2);
      --secondary-gradient: linear-gradient(135deg, #11998e, #38ef7d);
      --accent-gradient: linear-gradient(135deg, #ff6b6b, #ee5a24);
      --disabled-bg: #cccccc;
      --bg-color: rgba(255, 255, 255, 0.9);
      --text-color: #333;
      --radius: 16px;
      --transition: all 0.3s ease;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      background: var(--primary-gradient);
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      flex-direction: column;
      justify-content: cemter;
      align-items: center;
    }

    .main-wrap {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      width: 2000px;
    }


    .container {

      position: relative;
      background: var(--bg-color);
      border-radius: var(--radius);
      backdrop-filter: blur(15px);
      box-shadow: var(--shadow);
      width: 100%;
      max-width: 1500px;
      padding: 20px;
      text-align: center;
    }

    h1 {
      font-size: 3.5rem;
      margin-bottom: 30px;
      margin-top:50px;
      font-family:"Do Hyeon";
      letter-spacing: 2.5px;
      
    }

    .upload-section {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 28px;
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .btn:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.1);
      transform: scale(0);
      transition: var(--transition);
      border-radius: var(--radius);
    }
    section{
      border-radius: 15px;
      line-height: 2rem;
    }

    .btn:hover:before {
      transform: scale(1);
      opacity: 0.3;
    }

    .btn-primary {
      background: var(--primary-gradient);
    }

    .btn-secondary {
      background: var(--secondary-gradient);
    }

    .btn-accent {
      background: var(--accent-gradient);
    }

    .btn:active {
      transform: scale(0.96);
    }

    .btn:disabled,
    .btn[disabled] {
      background: var(--disabled-bg) !important;
      cursor: not-allowed;
      opacity: 0.6;
    }

    .images-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }

    .canvas-wrapper {
      background: #f7f7f7;
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
    }

    canvas {
      width: 100%;
      height: auto;
      border-radius: var(--radius);
    }

    .info {
      margin-top: 8px;
      font-size: 0.9rem;
      color: var(--text-color);
    }

    .status {
      margin-top: 20px;
      padding: 14px;
      border-radius: var(--radius);
      font-weight: 600;
      transition: var(--transition);
      display: inline-block;
    }

    .status.info {
      background: #e0f7fa;
      color: #00796b;
    }

    .status.success {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .status.error {
      background: #ffebee;
      color: #c62828;
    }

    /* 컨테이너 내부 오버레이 */
    #progressOverlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      border-radius: var(--radius);
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: #fff;
      font-size: 1.2rem;
      z-index: 10;
    }

    #progressBar {
      width: 60%;
      max-width: 300px;
      height: 16px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      overflow: hidden;
      margin-top: 10px;
    }

    #progressFill {
      height: 100%;
      width: 0;
      background: var(--secondary-gradient);
      transition: width 0.1s ease;
    }

    #eta {
      margin-top: 8px;
      font-size: 1rem;
    }
  </style>
</head>

<body>
  <!-- …이전 콘텐츠… -->

  <h1>🚀 RealESRGAN 이미지 업스케일러</h1>
  <section id="upscaling-info" style="padding: 2rem; background: #f9f9f9; border-top: 1px solid #ddd;">
    <ul>
      <li>
        <strong>학습자의 웹페이지 내 원활한 체험을 위해 경량화된 AI모델(<code>RealESRGAN-x4v3</code>)을 적용했습니다.</strong>
        <ul>
          <!-- 여기에 부연 설명을 추가하세요 -->
        </ul>
      </li>
      <li>
        <strong>더 고급화된 모델을 알아보고 싶다면 아래 링크를 참고하세요:</strong>
        <a href="https://phhofm.github.io/upscale/multimodels.html#ai-generated" target="_blank" rel="generated">
          고급 모델 상세 보기
        </a>
        <ul>
          <li>예: <code>RealESRGAN-general</code>, <code>SwinIR</code>, <code>EDSR</code> 등 다양한 고성능 모델</li>
        </ul>
      </li>
      <li>
        <strong>
          인터넷 기반 사이트에는 GPU 사용이 제한적이기에 과도한 고화질 파일은 업로드를 제한하였습니다.
          (5MB 이하)
        </strong>
      </li>
    </ul>
  </section>

    <!-- 기존 footer 내용 -->

    <div class="main-wrap">
      <div class="container">
        <div id="progressOverlay">
          <div>업스케일링 진행 중… <span id="progressText">0%</span></div>
          <div id="progressBar">
            <div id="progressFill"></div>
          </div>
          <div id="eta">예상 남은 시간: 0초</div>
        </div>

        <div class="upload-section">
          <label class="btn btn-primary">
            📁 이미지 선택
            <input type="file" id="imageInput" accept="image/*" style="display:none;">
          </label>
          <button id="sampleBtn" class="btn btn-primary">🖼️ 샘플사진</button>
          <button id="processBtn" class="btn btn-secondary" disabled>⚡ 업스케일링 시작</button>
        </div>
        <div id="status" class="status info" style="display:none;"></div>

        <div class="images-container" id="imagesContainer" style="display:none;">
          <div class="canvas-wrapper">
            <h3>원본 이미지</h3>
            <canvas id="originalCanvas"></canvas>
            <div class="info" id="originalSize"></div>
          </div>
          <div class="canvas-wrapper">
            <h3>업스케일된 이미지 (4x)</h3>
            <canvas id="upscaledCanvas"></canvas>
            <div class="info" id="upscaledSize"></div>
            <button id="downloadBtn" class="btn btn-accent" disabled>💾 다운로드</button>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer" style="width:100%;">
      <div class="footer-content">
        <div>
          <div class="footer-logo">인공지능 수학 이미지 탐구 활동 사이트</div>
          <div class="creator-info">
            Designed & Developed by <span>황성현</span><br>
            Contact : tjdgus1121@naver.com
          </div>
        </div>

        <div class="social-links">
          <a href="mailto:tjdgus1121@naver.com" id="email-link"><i class="fa-solid fa-envelope"></i></a>
          <a href="https://mail.naver.com/write/popup?to=tjdgus1121@naver.com" target="_blank" rel="noopener">
            <img src="naver.png" alt="메일 보내기" style="height:25px; filter: grayscale(100%); transition: filter 0.3s;"
              onmouseover="this.style.filter='grayscale(0%)';" onmouseout="this.style.filter='grayscale(100%)';">
          </a>
        </div>

        <div class="copyright">
          이 사이트의 모든 콘텐츠는 정성껏 만든 저작물입니다. ⓒ <span id="current-year"></span><br>
          다만, 인공지능 수학 교육을 함께 고민하는 모든 선생님들께 도움이 되기를 바랍니다.
        </div>

    </footer>

</body>

</html>